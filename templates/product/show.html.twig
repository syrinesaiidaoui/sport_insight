{% extends 'back_office/base.html.twig' %}

{% block title %}{{ product.name }}{% endblock %}
{% block page_title %}{{ product.name }}{% endblock %}

{% block body %}
    <div style="max-width: 800px;">
        <div class="front-card">
            {% if product.image %}
                <div style="width: 100%; height: 300px; border-radius: 8px; overflow: hidden; margin-bottom: 20px;">
                    {% set imageSrc = product.image starts with 'http://' or product.image starts with 'https://' ? product.image : (product.image starts with 'api/' ? asset(product.image) : (product.image starts with '/api/' ? product.image : asset('uploads/' ~ product.image))) %}
                    <img src="{{ imageSrc }}" alt="{{ product.name }}" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
            {% endif %}
            
            <h2>{{ product.name }}</h2>
            
            <div style="margin: 20px 0; padding: 20px; background: #f9fafb; border-radius: 8px;">
                <div style="margin-bottom: 12px;">
                    <strong>Category:</strong> {{ product.category ?? 'N/A' }}
                </div>
                <div style="margin-bottom: 12px;">
                    <strong>Brand:</strong> {{ product.brand ?? 'N/A' }}
                </div>
                <div style="margin-bottom: 12px;">
                    <strong>Price:</strong> ${{ product.price }}
                </div>
                <div style="margin-bottom: 12px;">
                    <strong>Stock:</strong> {{ product.stock }}
                </div>
                <div style="margin-bottom: 12px;">
                    <strong>Size:</strong> {{ product.size ?? 'N/A' }}
                </div>
            </div>
            
            <div style="margin-top: 20px; display: flex; gap: 12px;">
                <a href="{{ path('app_product_edit', { id: product.id }) }}" class="btn btn-primary">Edit</a>
                <a href="{{ path('app_product_index') }}" class="btn btn-secondary">Back</a>
            </div>
            
            {{ include('product/_delete_form.html.twig') }}
        </div>
    </div>
{% endblock %}

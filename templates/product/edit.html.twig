{% extends 'back_office/base.html.twig' %}

{% block title %}Edit Product{% endblock %}
{% block page_title %}Edit {{ product.name }}{% endblock %}

{% block body %}
    <div style="max-width: 600px;">
        {% if product.image %}
            <div style="margin-bottom: 20px;">
                <label style="display: block; font-weight: 600; margin-bottom: 8px;">Current Image</label>
                <div style="width: 200px; height: 200px; border-radius: 8px; overflow: hidden; border: 1px solid #e5e7eb;">
                    {% set imageSrc = product.image starts with 'http://' or product.image starts with 'https://' ? product.image : (product.image starts with 'api/' ? asset(product.image) : (product.image starts with '/api/' ? product.image : asset('uploads/' ~ product.image))) %}
                    <img src="{{ imageSrc }}" alt="{{ product.name }}" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
            </div>
        {% endif %}
        
        {{ include('product/_form.html.twig') }}
    </div>
{% endblock %}
